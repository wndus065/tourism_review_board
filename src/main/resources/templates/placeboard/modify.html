<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<th:block th:replace="layout/basic :: setContent(~{this::content} )">

	<th:block th:fragment="content">

		<h1 class="mt-4">placeboard Modify Page</h1>

		<form th:action="@{/placeboard/modify}" th:method="post">

			<div class="form-group">
				<label>제목</label>
				<input type="text" class="form-control" name="title" th:value="${dto.title}">
			</div>
			<div class="form-group">
				<label>내용</label>
				<textarea class="form-control" rows="10" name="content">[[${dto.content}]]</textarea>
			</div>
		
			<a th:href="@{/placeboard/modify(no = ${dto.no})}">
				<button type="button" class="btn btn-primary modifyBtn">수정</button>

			<a th:href="@{/placeboard/list(page=${page})}">
				<button type="button" class="btn btn-info listBtn">목록으로</button>

			<a th:href="@{/placeboard/remove(page=${page})}">
				<button type="button" class="btn btn-danger removeBtn">삭제</button>

		</form>
		<script th:inline="javascript">

			var form = $("form"); //form 태그 객체

			$(".modifyBtn").click(function () {
				if (!confirm("수정하시겠습니까?")) {
					return;
				}

				form
					.attr("action", "/placeboard/modify")
					.attr("method", "post")
					.submit();
			});

			$(".listBtn").click(function () {
				form
					.attr("action", "/placeboard/list")
					.attr("method", "get")
					.submit();
			})

			$(".removeBtn").click(function () {
				form
					.attr("action", "/placeboard/remove")
					.attr("method", "post")
					.submit();
			});

		</script>


	</th:block>

</th:block>