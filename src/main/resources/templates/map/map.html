<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>네이버 지도 API</title>
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=ab9cyktgjv"></script>
</head>
<body>
    <div id="map" style="width:100%;height:500px;"></div>
    <script type="text/javascript">
        var mapOptions = {
            center: new naver.maps.LatLng(37.3595704, 127.105399),
            zoom: 10
        };

        var map = new naver.maps.Map('map', mapOptions);

        // 마커 생성 및 이벤트 등록
        var mapOptions = {
  center: new naver.maps.LatLng(37.3595704, 127.105399),
  zoom: 10
};

// 지도 생성
var map = new naver.maps.Map('map', mapOptions);

// 데이터베이스에서 가져온 마커 정보
var markersData = [
  {
    title: '경복궁',
    latlng: new naver.maps.LatLng(37.5796177, 126.9770418),
    image: 'https://search.naver.com/search.naver?where=image&sm=tab_jum&query=%EA%B2%BD%EB%B3%B5%EA%B6%81#',
    description: '조선시대에 건립된 궁궐'
  },
  {
    title: '롯데타워',
    latlng: new naver.maps.LatLng(37.5129146, 127.1028611),
    image: 'https://search.naver.com/search.naver?sm=tab_sug.top&where=image&query=%EB%A1%AF%EB%8D%B0%ED%83%80%EC%9B%8C&oquery=%EA%B2%BD%EB%B3%B5%EA%B6%81&tqi=itCynsprvxZss51Zx04ssssssml-497099&acq=%EB%A1%AF%EB%8D%B0%ED%83%80%EC%9B%8C&acr=8&qdt=0#',
    description: '대한민국 최고층 건물'
  },
  {
    title: '명동',
    latlng: new naver.maps.LatLng(37.5600989, 126.986651),
    image: 'https://search.naver.com/search.naver?sm=tab_hty.top&where=image&query=%EB%AA%85%EB%8F%99&oquery=%EB%A1%AF%EB%8D%B0%ED%83%80%EC%9B%8C&tqi=itCygdprvhGssOxuSzhssssstNl-268679#',
    description: '서울 중심상업지역'
  },
  {
    title: '청계천',
    latlng: new naver.maps.LatLng(37.5696513, 127.0157664),
    image: 'https://search.naver.com/search.naver?sm=tab_hty.top&where=image&query=%EC%B2%AD%EA%B3%84%EC%B2%9C&oquery=%EB%AA%85%EB%8F%99&tqi=itCyOlprvTVssgBH71ossssssvK-202451#',
    description: '서울의 대표적인 관광지'
  },
  {
    title: '남산타워',
    latlng: new naver.maps.LatLng(37.5510806, 126.9882922),
    image: 'https://search.naver.com/search.naver?sm=tab_hty.top&where=image&query=%EB%82%A8%EC%82%B0%ED%83%80%EC%9B%8C&oquery=%EC%B2%AD%EA%B3%84%EC%B2%9C&tqi=itCyCdprvOsssPISxS0ssssssZZ-497385#',
    description: '서울을 대표하는 랜드마크'
  }
];

// 마커 생성 및 지도에 추가
var markers = [];
markersData.forEach(function(data) {
  var marker = new naver.maps.Marker({
    position: data.latlng,
    map: map,
    title: data.title
  });

  // 정보창 생성
  var infoWindow = new naver.maps.InfoWindow({
    content: '<div style="padding:5px;width:200px;"><strong>' + data.title + '</strong><br /><img src="' + data.image + '" style="width:100%;height:auto;margin-top:5px;" /><p style="margin-top:5px;">' + data.description + '</p><a href="map/modify/' + data.id + '">수정</a> | <a href="/delete/' + data.id + '">삭제</a></div>',
    maxWidth: 300
  });

  // 마커 클릭 이벤트 등록
  naver.maps.Event.addListener(marker, 'click', function() {
	<!--  var msg = [[${msg}]]
	  if(msg != null){
		  alert(msg);
	  } -->
    infoWindow.open(map, marker);
   
  });

  markers.push(marker);
});
    </script>
</body>
</html>